global:
  # rpc urls
  # 示例：配置多个端点用于冗余 / 负载均衡，按顺序轮询。
  # rpc_urls:
  #   - "https://rpc.shyft.to?api_key=FgU1AVt-7pIiUk2j"
  #   - "https://mainnet.helius-rpc.com/?api-key=767f42d9-06c2-46f8-8031-9869035d6ce4"
  #   - "https://mainnet.solana.validationcloud.io/v1/4YlOowpz6fTe6Jl31oWxYGSusOS12UzTxXkpdoC1I5A"
  #   - "https://mainnet.helius-rpc.com/?api-key=39602420-7609-49be-905e-92421ddcb342"
  # pump
  #   - "https://mainnet.helius-rpc.com/?api-key=767f42d9-06c2-46f8-8031-9869035d6ce4"
  #   - "https://pump-fe.helius-rpc.com/?api-key=1b8db865-a5a1-4535-9aec-01061440523b"
  tools:
    staked_urls:
      - "https://staked.helius-rpc.com/?api-key=767f42d9-06c2-46f8-8031-9869035d6ce4"
      - "https://acc.solayer.org"
    compute_unit_lamports: 0
  rpc_urls:
    - "https://mainnet.helius-rpc.com/?api-key=767f42d9-06c2-46f8-8031-9869035d6ce4"
    - "https://pump-fe.helius-rpc.com/?api-key=1b8db865-a5a1-4535-9aec-01061440523b"
  proxy:
    default: ""
    profiles:
      proxyrack:
        url: "http://qasizolytipywa:N23L4NF-G9C9XEP-ZHKTIIE-260ZXYE-CD2GZHI-R6OITM2-9CC2JMT@global.rotating.proxyrack.net:10000"
        per_request: true
    enable:
      # quote: proxyrack
      # lander: proxyrack
  # yellowstone grpc url
  yellowstone_grpc_url: ""
  # yellowstone grpc token
  yellowstone_grpc_token: ""
  # 日志级别
  logging:
    level: "debug"
    json: false
    # 日志输出的时区偏移（单位：小时）。示例：8 代表 UTC+8。
    timezone_offset_hours: 8

engine:
  # 可选值：jupiter_self_hosted / jupiter / dflow / ultra / multi-legs / kamino / none
  # backend: "multi-legs"
  # backend: "kamino"
  backend: "jupiter_self_hosted"
  # backend: "dflow"
  # backend: "multi-legs"
  # backend: "dflow"
  # 设置为 true 时启用控制台摘要面板，每轮 trade size 批次完成后打印关键统计。
  enable_console_summary: true
  # 设置为 true 时，只打印控制台摘要面板，不打印其他日志
  console_summary_only: true
  time_out:
    # 超时时间：报价 / 指令 / 落地（单位：毫秒）
    quote_ms: 5000
    swap_ms: 10000
    landing_ms: 5000
  multi_leg:
    quote_cadence:
      titan_push_stride: 1
      default:
        max_concurrent_slots: 1
        inter_batch_delay_ms: 2000

  jupiter_self_hosted:
    enable: true
    api_proxy: "http://192.168.124.4:9999"
    args_included_dexes:
      # TesseraV
      - "TessVdML9pBGgG9yGks7o4HewRaXVAMuoVj4x83GLQH"
      # SolFiV2
      - "SV2EYYJyRz2YhfXwXnhNAevDEui5Q6yrfyo13WtupPF"
      # HumidiFi
      - "9H6tua7jkLhdm3w8BvgpTn5LZNU7g4ZynDmCiNN3q6Rp"
      # Aquifer
      - "AQU1FRd7papthgdrwPTTq5JacJh8YtwEXaBfKU3bTz45"
    quote_config:
      slippage_bps: 2
      # 交易中支持的最大账户数,也就是一次 quote 中支持的最大账户数
      max_accounts: 28
      # 设置为 true 时，机器人将仅寻找两跳（A -> B -> A）交易。设置为 true 将缩短跳转报价时间，加快落地速度。设置为 false 将获得更多机会，但需要更多报价时间。
      only_direct_routes: false
      # 仅当 use_direct_route_only 为 false 时，此设置才会生效。
      # 将中间代币限制为具有稳定流动性的顶级代币集合。这将有助于降低兑换时潜在的高滑点错误率，并将对定价的影响降至最低。
      # 当您将 use_direct_route_only 设置为 false 时，这可以帮助加快 jupiter 的报价时间。不过，正如它所说，它也会限制在您的路线中使用的额外 mint。
      restrict_intermediate_tokens: true
      # cadence 控制 trade size 的调度节奏：
      #   max_concurrent_slots: 槽位数量，auto 表示根据可用 IP 自动推导（多 IP 时可调整为固定值）。
      #   inter_batch_delay_ms: 单个槽位两次 quote 之间的等待时间；设置为 0 表示立即轮询下一个 trade size。
      #   cycle_cooldown_ms: 一轮所有 trade size 完成后的休息时间（大多数场景可留空或设为 0）。
      cadence:
        default:
          max_concurrent_slots: 1
          inter_batch_delay_ms: 3000
    swap_config:
      # 跳过用户账户相关 RPC 调用，以减少重复拉取。
      # 设置为 false 时，不会有 setupInstructions 等创建 ATA 的指令
      # 设置为 true 时，会有 setupInstructions 等创建 ATA 的指令
      skip_user_accounts_rpc_calls: false
      # 启用后，它将进行交换模拟以获取使用的计算单元并将其设置在 ComputeBudget 的计算单元限制中
      # 这会导致一个额外的 RPC 调用来模拟这个交易
      # 我们建议启用此功能以正确估计计算单元并减少所需的优先费用或有更高的机会被纳入区块
      dynamic_compute_unit_limit: true
      wrap_and_unwrap_sol: false
      cu_limit_multiplier: 0.92
      use_shared_accounts: false
  jupiter:
    jupiter_buy:
      enable: true
      leg: "buy"
      api_quote_base: "https://lite-api.jup.ag/swap/v1/quote"
      api_swap_base: "https://lite-api.jup.ag/swap/v1/swap"
      api_proxy: "http://192.168.3.3:9999"
      quote_config:
        slippage_bps: 0
        # 交易中支持的最大账户数,也就是一次 quote 中支持的最大账户数
        max_accounts: 28
        only_direct_routes: true
        restrict_intermediate_tokens: false
        # cadence 控制 trade size 的调度节奏：
        #   max_concurrent_slots: 槽位数量，auto 表示根据可用 IP 自动推导（多 IP 时可调整为固定值）。
        #   inter_batch_delay_ms: 单个槽位两次 quote 之间的等待时间；设置为 0 表示立即轮询下一个 trade size。
        #   cycle_cooldown_ms: 一轮所有 trade size 完成后的休息时间（大多数场景可留空或设为 0）。
        cadence:
          default:
            max_concurrent_slots: 1
            inter_batch_delay_ms: 3000

      swap_config:
        use_shared_accounts: true
        skip_user_accounts_rpc_calls: false
        dynamic_compute_unit_limit: true
        wrap_and_unwrap_sol: false
        cu_limit_multiplier: 0.92
    jupiter_sell:
      enable: true
      leg: "sell"
      api_quote_base: "https://lite-api.jup.ag/swap/v1/quote"
      api_swap_base: "https://lite-api.jup.ag/swap/v1/swap"
      api_proxy: "http://192.168.3.3:9999"
      quote_config:
        slippage_bps: 0
        # 交易中支持的最大账户数,也就是一次 quote 中支持的最大账户数
        max_accounts: 28
        only_direct_routes: false
        restrict_intermediate_tokens: false
        cadence:
          default:
            max_concurrent_slots: 1
            inter_batch_delay_ms: 3000

      swap_config:
        use_shared_accounts: true
        skip_user_accounts_rpc_calls: false
        dynamic_compute_unit_limit: true
        wrap_and_unwrap_sol: false
        cu_limit_multiplier: 0.92
  ultra:
    # 腿方向：可选 buy / sell，用于套利腿角色匹配
    leg: "sell"
    api_quote_base: "https://ultra-api.jup.ag"
    api_swap_base: "https://ultra-api.jup.ag"
    api_proxy: "http://192.168.3.3:9999"
    quote_config:
      use_wsol: true
      # taker: "k1bWgJv1fdVMCqgDM2jkEfhEzKW7XgGpj8vGGKjgSnJ"
      taker: "P1ayvj9UdRxiVWa6rxXbqmosF1tZf62VZSJnrUnvhak"
      exclude_routers: []
      priority_fee_lamports: 10
      cadence:
        # default: 默认的 quote 节奏配置，适用于所有 base mint
        default:
          # max_concurrent_slots: 槽位数量；auto 表示按 IP 自动推导，正整数可显式指定并发槽位。
          max_concurrent_slots: 1
          # inter_batch_delay_ms: 同一槽位连续 quote 之间的等待时间（毫秒），0 表示立即轮询。
          inter_batch_delay_ms: 2000
          # cycle_cooldown_ms: 一轮所有 trade size 完成后的休息时间（毫秒），大多数情况下可设为 0。
          cycle_cooldown_ms: 0
        # per_base_mint: 针对特定 base mint 覆盖默认节奏（可选）；未开启时沿用 default
        #   So11111111111111111111111111111111111111112:
        #     # max_concurrent_slots: 1
        #     inter_batch_delay_ms: 200
        #     cycle_cooldown_ms: 1000
    swap_config:
      cu_limit_multiplier: 0.92
  dflow:
    # 腿方向：可选 buy / sell，用于套利腿角色匹配
    leg: "sell"
    # api_quote_base: "https://aggregator-api-proxy.dflow.workers.dev"
    api_quote_base: "https://quote-api.dflow.net"
    api_swap_base: "https://quote-api.dflow.net"
    # api_quote_base: "http://109.94.98.33:9999"
    # api_swap_base: "http://109.94.98.33:9999"
    # api_quote_base: "http://185.209.177.203:10000"
    # api_swap_base: "http://185.209.177.203:10000"
    # api_proxy: "http://192.168.3.3:9999"
    api_proxy: "http://192.168.124.4:9999"
    quote_config:
      slippage_bps: 2
      only_direct_routes: false
      max_route_length: 3
      cadence:
        # default: 默认的 quote 节奏配置
        default:
          # # group_parallelism: 同时运行的 quote 组数量上限
          max_concurrent_slots: 1
          # inter_batch_delay_ms: 同一波次内组与组之间的最小启动间隔（毫秒）
          inter_batch_delay_ms: 3000
          # cycle_cooldown_ms: 一波结束后等待下一波的时间（毫秒）

        # per_base_mint: 可选，覆盖指定 base mint 的默认节奏
        #   So11111111111111111111111111111111111111112:
        #     # group_parallelism: 1
        #     inter_batch_delay_ms: 200
        #     cycle_cooldown_ms: 1000
    swap_config:
      dynamic_compute_unit_limit: true
      wrap_and_unwrap_sol: false
      cu_limit_multiplier: 0.92
  titan:
    # 腿方向：Titan 仅支持 buy 腿
    leg: "buy"
    # Titan 推流首条报价超时时间（毫秒），超过后视为异常并重新调度
    first_quote_timeout_ms: null
    # Titan 推流若在该时间（毫秒）内无报价更新，将自动重新发起订阅；设置为 0 或 null 可禁用
    idle_resubscribe_timeout_ms: 10000
    # 开启 loopback 后仅订阅 base→base 的单条 Titan 流，根据 out>in 判断套利
    ws_url: "wss://api.titan.exchange/api/v1/ws"
    # 可选：通过 WebSocket 代理抓包/调试 Titan 数据
    # ws_proxy: "ws://192.168.124.4:9999"
    ws_proxy: ""
    jwt: 
      api_url: "https://titan.exchange/api/apollo-jwt"
      address: "P1ayvj9UdRxiVWa6rxXbqmosF1tZf62VZSJnrUnvhak"
    # Titan , Okx , Metis , Pyth
    swap_config:
    #  "Gavel Swap",
    #   "Raydium Launchlab",
    #   "AlphaQ",
    #   "Vault Unstakepool",
    #   "Heaven",
    #   "DexLab",
    #   "Whirlpool",
    #   "GoonFi",
    #   "Penguin",
    #   "1DEX",
    #   "Guacswap",
    #   "Saros DLMM",
    #   "Crema",
    #   "PancakeSwap",
    #   "FluxBeam",
    #   "Solayer",
    #   "Byreal",
    #   "Moonshot",
    #   "Saber (Decimals)",
    #   "Raydium CLMM",
    #   "GooseFX",
    #   "Aldrin V2",
    #   "StepN",
    #   "Mercurial",
    #   "Clearpools",
    #   "Perps",
    #   "Token Swap",
    #   "Dynamic Bonding Curve",
    #   "SolFi",
    #   "Obric V2",
    #   "Orca V1",
    #   "Sanctum",
    #   "SolFiV2",
    #   "Raydium CP",
    #   "Hylo",
    #   "Phoenix",
    #   "Helium Network",
    #   "Saros",
    #   "Openbook",
    #   "Bonkswap",
    #   "Obsidian AMM",
    #   "OpenBook V2",
    #   "PumpFun",
    #   "Cropper",
    #   "ZeroFi",
    #   "Manifest",
    #   "Orca V2",
    #   "Meteora DAMM V2",
    #   "Sanctum Infinity",
    #   "Daos.fun",
    #   "Saber",
    #   "Invariant",
    #   "Perena",
    #   "Raydium",
    #   "Vertigo",
    #   "Virtuals",
    #   "Meteora",
    #   "Oasis",
    #   "TesseraV",
    #   "Stabble Stable Swap",
    #   "Fusion AMM",
    #   "Hashflow",
    #   "Boop.fun",
    #   "Aquifer",
    #   "Pump.fun Amm",
    #   "Lifinity V1",
    #   "Stabble Weighted Swap",
    #   "HumidiFi",
    #   "Token Mill",
    #   "Meteora DLMM",
    #   "WooFi",
    #   "Mozart",
    #   "Carrot",
    #   "Aldrin",
    #   "Lifinity V2",
    #   "Rubicon"
      dexes:
        - "HumidiFi"
      # exclude_dexes:
      only_direct_routes: false
      providers:
        - "Titan"
        - "Metis"
        - "Okx"
    tx_config:
      create_output_token_account: false
      filter_other_instructions: true
    # 服务端推送报价更新的间隔，单位毫秒。
    interval_ms: 2000
    # 每次更新最多返回的报价数量。
    num_quotes: 2
  kamino:
    # 腿方向：可选 buy / sell，用于套利腿角色匹配
    leg: "sell"
    api_quote_base: "https://api.kamino.finance"
    api_swap_base: "https://api.kamino.finance"
    api_proxy: "http://192.168.124.4:9999"
    quote_config:
      cu_limit_multiplier: 2.1
      cadence:
        default:
          max_concurrent_slots: 1
          inter_batch_delay_ms: 2000

      max_slippage_bps: 1
      with_simulation: true
      executor: "P1ayvj9UdRxiVWa6rxXbqmosF1tZf62VZSJnrUnvhak"
      referrer_pda: ""
      # 是否改为通过 RPC 批量拉取 Address Lookup Table：
      # true 表示 Kamino 仅返回 lookup table key，落地前由我们主动走 RPC 拉取；
      # false 表示沿用现状，使用 Kamino 返回的完整地址列表。
      resolve_lookup_tables_via_rpc: true
      include_setup_ixs: true
      wrap_and_unwrap_sol: false
      routes:
        # - "dflow"
        # - "per"
        # - "fluxbeam"
        # - "raydium"
        # - "hashflow"
        # - "jupiterEuropa"
        # - "jupiterSelfHosted"
        # - "jupiter"
        # - "okx"
        # - "clover"
        # - "zeroEx"
        # - "spur"
        - "lifi"

# 机器人会尝试找到盈利路线，具体方法是：获取给定交易规模的 base_mint 到 intermediate_mints 的报价，
# 然后再获取 intermediate_mints 到 base_mint 的另一个报价，
# 并将它们组合起来，形成一条潜在的盈利路线。基本上就是一条从 A -> B -> A 的路线。
# 当 use_direct_route_only 设置为 true 时，机器人将仅返回类似上述 A -> B -> A 形式的路线。
# 为了获得更多潜在机会，您可以将其设置为 false，这样可以返回类似 A -> B -> C -> A 形式的路线。
# 将其设置为 false 的缺点是会减慢获取报价的时间，最终导致交易发送速度变慢。
intermedium:
  load_mints_from_files:
    # - kind: json
    #   name: "solscan_top_tokens"
    #   path: data/top_tokens.json
    #   selector:
    #     type: json_path
    #     expr: "$.data.data[*].token_address"
    # - kind: text
    #   path: data/intermedium_mints.txt
  load_mints_from_url: ""
  max_tokens_limit: 20
  mints:
    # WSOL
    - "So11111111111111111111111111111111111111112"
    # USDC
    - "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"
    # USDG
    # - "2u1tszSeqZ3qBWF3uNGPFc8TzMk2tdiwknnRMWGWjGWH"
    # # USDT
    # - "Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"
    # # PENGU
    # - "2zMMhcVQEXDtdE6vsFS7S7D5oUodfJHE8vd1gnBouauv"
    # # Bonk
    # - "DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"
    # # # MET
    # - "METvsvVRapdj9cFLzq4Tr43xK4tAjQfwX76z3n6mWQL"
    # # # JLP
    # - "27G8MtK7VtTcCHkpASjSDdkWWYfoqT6ggEuKidVJidD4"
    # # cbBTC
    # - "cbbtcf3aa214zXHbiAZQwf4122FBYbraNdFqgw4iMij"
    # # zBTC
    # - "zBTCug3er3tLyffELcvDNrKkCymbPWysGcWihESYfLg"
    # # WETH
    # - "7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"
    # # Fartcoin
    # - "9BB6NFEcjBCtnNLFko2FqVQBq8HHM13kCyYcdQbgpump"
    # # # PUMP
    # - "pumpCmXqMfrsAkQ5r49WcJnRayYRqmXz6ae8H7H9Dfn"
    # # JitoSOL
    # - "J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn"
    # # JUP
    # - "JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN"
    # # # Saros
    # - "SarosY6Vscao718M4A778z4CGtvcwcGef5M9MEH1LGL"
    # # Kmnio
    # - "KMNo3nJsBXfcpJTVhZcXLW7RmTwTt4GVFE7suUBo9sS"

  disable_mints: []
wallet_keys:
  - P1ay: R0xXQUxMRVQBQpV4ThdnX6Kc5xfbnUpsc/+PNWNhNtjPSkvIWFwoNfBb/4051cMrXUKmGRxPxeyar4E4t2rrC2WCCE24XavuVr4vJ3lQcNHSyimURWALEaIOnrTDTEybI2AH5TJFkMFRCX/omFjJB39/vfyjdR4+fVh3Pq0+zDwhyzCPiyLIiMe/+J2HfWUXEf8pkbwWb3nRN1hwkF7saZ9B9biW54TiEnBAhx4jqWHVHgGmmZJ1/gE3mu6P7TsaQSKwaBRCE/z5TtpnPNRgCHNzTdo1gd/zE3te2mAHhL9tzr3r4jK3j5vJV7dJTavIXutzqJu8LhIup7iN2N8kTLSj3LWkQa8dyhvNdMsY5FOWuIA=
bot:
  dry_run:
    enable: true
    # dry-run 模式下所有 RPC/落地请求都会路由到该节点，通常指向本地 devnet/sandbox。
    rpc_url: "http://127.0.0.1:8899"
  get_block_hash_by_grpc: true
  enable_simulation: false
  binary:
    # disable_local_binary: true 可以强制仅使用远端 Jupiter API
    disable_local_binary: false
    # enable_running: true 可在 multi-legs 等模式下，由 bot 负责托管自建 Jupiter
    enable_running: false
    # 设置为 true 时保留 Jupiter 二进制的 stdout/stderr
    show_logs: false
  auto_refresh_wallet_minute: 30
  strategies:
    # 启用的策略列表（策略配置从 strategies/ 目录加载）
    enabled:
      - blind_strategy
      # - copy_strategy
      # - pure_blind_strategy
    # 策略配置文件目录（默认为 "strategies"）
    config_dir: "strategies"
  engines:
    pairs:
      - buy_leg: jupiter
        sell_leg: jupiter
  flashloan:
    products:
      - marginfi
    prefer_wallet_balance: true
  profit_guard:
    enable: true
    sol_price_feed:
      url: "https://hermes.pyth.network/v2/updates/price/latest?ids[]=0xef0d8b6fda2ceba41da15d4095d1da392a0d2f8ed0c6c7bc0f4cfac8c280b56d"
      # 订阅 sol 的价格，用于守护 USDC 的情况
      refresh_ms: 10000
      guard_padding: 200 # 额外冗余（USDC 单位），默认 200
    profit_guard_mints:
      - So11111111111111111111111111111111111111112
      - EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
  cpu_affinity:
    enable: false
    worker_cores: []
    max_blocking_threads: null
    strict: false
  network:
    enable_multiple_ip: false
    manual_ips: []
    blacklist_ips: []
    allow_loopback: false
    per_ip_inflight_limit: 2
    cooldown_ms:
      rate_limited_start: 500
      timeout_start: 250
  prometheus:
    enable: true
    listen: "127.0.0.1:9898"

flashloan:
  marginfi:
    # 闪电贷指令额外的 compute unit 开销
    compute_unit_overhead: 110000
    marginfi_account: "3TmqCbKgsBEgnPMmi1YvdHvUq76v8qbx6JFH2YYyettJ"
# lander 相关配置已移至独立的 lander.yaml

# 策略配置已拆分到 strategies/ 目录
# 如需修改策略配置，请编辑以下文件：
# - strategies/blind_strategy.yaml
# - strategies/pure_blind_strategy.yaml
# - strategies/copy_strategy.yaml
# - strategies/back_run_strategy.yaml
